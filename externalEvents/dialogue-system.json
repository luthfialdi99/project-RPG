{
  "associatedLayout": "supermarket",
  "lastChangeTimeStamp": 0,
  "name": "dialogue-system",
  "events": [
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "DepartScene"
          },
          "parameters": [
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "Create"
          },
          "parameters": [
            "",
            "dialogueArrow",
            "dialogue.CenterX()",
            "dialogue.CenterY()",
            ""
          ]
        },
        {
          "type": {
            "value": "SetSize"
          },
          "parameters": [
            "dialogueArrow",
            "10",
            "10"
          ]
        },
        {
          "type": {
            "value": "BBText::SetWrappingWidth"
          },
          "parameters": [
            "dialogue",
            "=",
            "9999"
          ]
        },
        {
          "type": {
            "value": "ResetObjectTimer"
          },
          "parameters": [
            "dialogue",
            "\"atCD\""
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Comment",
      "color": {
        "b": 109,
        "g": 230,
        "r": 255,
        "textB": 0,
        "textG": 0,
        "textR": 0
      },
      "comment": "Dialogue Options",
      "comment2": ""
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "DepartScene"
          },
          "parameters": [
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "Create"
          },
          "parameters": [
            "",
            "dialogueOptions_lr",
            "0",
            "0",
            ""
          ]
        },
        {
          "type": {
            "value": "Create"
          },
          "parameters": [
            "",
            "dialogueOptions_lr",
            "1",
            "0",
            ""
          ]
        },
        {
          "type": {
            "value": "Create"
          },
          "parameters": [
            "",
            "dialogueOptionsShape",
            "0",
            "0",
            ""
          ]
        },
        {
          "type": {
            "value": "Create"
          },
          "parameters": [
            "",
            "dialogueOptionsText",
            "0",
            "0",
            ""
          ]
        },
        {
          "type": {
            "value": "Create"
          },
          "parameters": [
            "",
            "dialogueOptionsText",
            "1",
            "0",
            ""
          ]
        },
        {
          "type": {
            "value": "Create"
          },
          "parameters": [
            "",
            "dialogueOptionsShape",
            "1",
            "0",
            ""
          ]
        },
        {
          "type": {
            "value": "Cache"
          },
          "parameters": [
            "dialogueOptionsShape"
          ]
        },
        {
          "type": {
            "value": "Cache"
          },
          "parameters": [
            "dialogueOptionsText"
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::ForEach",
      "object": "dialogueOptionsShape",
      "conditions": [],
      "actions": [],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "PosX"
              },
              "parameters": [
                "dialogueOptionsShape",
                "=",
                "0"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarObjet"
              },
              "parameters": [
                "dialogueOptionsShape",
                "id",
                "=",
                "1"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "PosX"
              },
              "parameters": [
                "dialogueOptionsShape",
                "=",
                "1"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarObjet"
              },
              "parameters": [
                "dialogueOptionsShape",
                "id",
                "=",
                "2"
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::ForEach",
      "object": "dialogueOptions_lr",
      "conditions": [],
      "actions": [
        {
          "type": {
            "value": "Cache"
          },
          "parameters": [
            "dialogueOptions_lr"
          ]
        }
      ],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "PosX"
              },
              "parameters": [
                "dialogueOptions_lr",
                "=",
                "0"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarObjet"
              },
              "parameters": [
                "dialogueOptions_lr",
                "id",
                "=",
                "1"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "PosX"
              },
              "parameters": [
                "dialogueOptions_lr",
                "=",
                "1"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarObjet"
              },
              "parameters": [
                "dialogueOptions_lr",
                "id",
                "=",
                "2"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "dialogueOptions_lr",
                "id",
                "=",
                "1"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "MettreXY"
              },
              "parameters": [
                "dialogueOptions_lr",
                "=",
                "playerAnim.X()+playerAnim.Width()+30",
                "=",
                "playerAnim.CenterY()-30"
              ]
            },
            {
              "type": {
                "value": "SetSize"
              },
              "parameters": [
                "dialogueOptions_lr",
                "200",
                "64"
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::ForEach",
              "object": "dialogueOptionsShape",
              "conditions": [],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "VarObjet"
                      },
                      "parameters": [
                        "dialogueOptionsShape",
                        "id",
                        "=",
                        "1"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "PrimitiveDrawing::RoundedRectangle"
                      },
                      "parameters": [
                        "dialogueOptionsShape",
                        "dialogueOptions_lr.X()",
                        "dialogueOptions_lr.Y()",
                        "dialogueOptions_lr.X()+dialogueOptions_lr.Width()",
                        "dialogueOptions_lr.Y()+dialogueOptions_lr.Height()",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "PrimitiveDrawing::OutlineSize"
                      },
                      "parameters": [
                        "dialogueOptionsShape",
                        "=",
                        "2"
                      ]
                    },
                    {
                      "type": {
                        "value": "PrimitiveDrawing::OutlineColor"
                      },
                      "parameters": [
                        "dialogueOptionsShape",
                        "\"255;255;255\""
                      ]
                    },
                    {
                      "type": {
                        "value": "PrimitiveDrawing::FillOpacity"
                      },
                      "parameters": [
                        "dialogueOptionsShape",
                        "=",
                        "200"
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::ForEach",
              "object": "dialogueOptionsText",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "ChangePlan"
                  },
                  "parameters": [
                    "dialogueOptionsText",
                    "=",
                    "dialogueOptions_lr.ZOrder()+2"
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "VarObjet"
                      },
                      "parameters": [
                        "dialogueOptionsText",
                        "id",
                        "=",
                        "1"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "BBText::SetBBText"
                      },
                      "parameters": [
                        "dialogueOptionsText",
                        "=",
                        "\"option1\""
                      ]
                    },
                    {
                      "type": {
                        "value": "MettreXY"
                      },
                      "parameters": [
                        "dialogueOptionsText",
                        "=",
                        "dialogueOptions_lr.X()+10",
                        "=",
                        "dialogueOptions_lr.Y()"
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "VarObjet"
                          },
                          "parameters": [
                            "dialogueOptionsText",
                            "selected",
                            "=",
                            "0"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "BBText::SetColor"
                          },
                          "parameters": [
                            "dialogueOptionsText",
                            "\"255;255;255\""
                          ]
                        }
                      ],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "KeyPressed"
                              },
                              "parameters": [
                                "",
                                "w"
                              ]
                            },
                            {
                              "type": {
                                "inverted": true,
                                "value": "KeyPressed"
                              },
                              "parameters": [
                                "",
                                "s"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "dialogueOptionsText",
                                "selected",
                                "=",
                                "1"
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "VarObjet"
                          },
                          "parameters": [
                            "dialogueOptionsText",
                            "selected",
                            "=",
                            "1"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "BBText::SetColor"
                          },
                          "parameters": [
                            "dialogueOptionsText",
                            "\"0;0;0\""
                          ]
                        }
                      ],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "KeyPressed"
                              },
                              "parameters": [
                                "",
                                "s"
                              ]
                            },
                            {
                              "type": {
                                "inverted": true,
                                "value": "KeyPressed"
                              },
                              "parameters": [
                                "",
                                "w"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "dialogueOptionsText",
                                "selected",
                                "=",
                                "0"
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "VarObjet"
                      },
                      "parameters": [
                        "dialogueOptionsText",
                        "id",
                        "=",
                        "2"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "BBText::SetBBText"
                      },
                      "parameters": [
                        "dialogueOptionsText",
                        "=",
                        "\"option2\""
                      ]
                    },
                    {
                      "type": {
                        "value": "MettreXY"
                      },
                      "parameters": [
                        "dialogueOptionsText",
                        "=",
                        "dialogueOptions_lr.X()+10",
                        "=",
                        "dialogueOptions_lr.Y()+32"
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "VarObjet"
                          },
                          "parameters": [
                            "dialogueOptionsText",
                            "selected",
                            "=",
                            "0"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "BBText::SetColor"
                          },
                          "parameters": [
                            "dialogueOptionsText",
                            "\"255;255;255\""
                          ]
                        }
                      ],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "KeyPressed"
                              },
                              "parameters": [
                                "",
                                "s"
                              ]
                            },
                            {
                              "type": {
                                "inverted": true,
                                "value": "KeyPressed"
                              },
                              "parameters": [
                                "",
                                "w"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "dialogueOptionsText",
                                "selected",
                                "=",
                                "1"
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "VarObjet"
                          },
                          "parameters": [
                            "dialogueOptionsText",
                            "selected",
                            "=",
                            "1"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "BBText::SetColor"
                          },
                          "parameters": [
                            "dialogueOptionsText",
                            "\"0;0;0\""
                          ]
                        }
                      ],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "KeyPressed"
                              },
                              "parameters": [
                                "",
                                "w"
                              ]
                            },
                            {
                              "type": {
                                "inverted": true,
                                "value": "KeyPressed"
                              },
                              "parameters": [
                                "",
                                "s"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "dialogueOptionsText",
                                "selected",
                                "=",
                                "0"
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "dialogueOptions_lr",
                "id",
                "=",
                "2"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetSize"
              },
              "parameters": [
                "dialogueOptions_lr",
                "200",
                "32"
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::ForEach",
              "object": "dialogueOptionsShape",
              "conditions": [],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "VarObjet"
                      },
                      "parameters": [
                        "dialogueOptionsShape",
                        "id",
                        "=",
                        "2"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "PrimitiveDrawing::RoundedRectangle"
                      },
                      "parameters": [
                        "dialogueOptionsShape",
                        "dialogueOptions_lr.X()",
                        "dialogueOptions_lr.Y()",
                        "dialogueOptions_lr.X()+dialogueOptions_lr.Width()",
                        "dialogueOptions_lr.Y()+dialogueOptions_lr.Height()",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "PrimitiveDrawing::FillColor"
                      },
                      "parameters": [
                        "dialogueOptionsShape",
                        "\"255;255;255\""
                      ]
                    },
                    {
                      "type": {
                        "value": "ChangePlan"
                      },
                      "parameters": [
                        "dialogueOptionsShape",
                        "=",
                        "dialogueOptionsText.ZOrder()-1"
                      ]
                    },
                    {
                      "type": {
                        "value": "PrimitiveDrawing::OutlineSize"
                      },
                      "parameters": [
                        "dialogueOptionsShape",
                        "=",
                        "0"
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "VarObjet"
                          },
                          "parameters": [
                            "dialogueOptionsText",
                            "selected",
                            "=",
                            "1"
                          ]
                        }
                      ],
                      "actions": [],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "VarObjet"
                              },
                              "parameters": [
                                "dialogueOptionsText",
                                "id",
                                "=",
                                "1"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Tween::AddObjectPositionTween"
                              },
                              "parameters": [
                                "dialogueOptions_lr",
                                "Tween",
                                "\"up\"",
                                "dialogueOptionsText.X()-10",
                                "dialogueOptionsText.Y()",
                                "\"easeOutQuad\"",
                                "100",
                                ""
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "VarObjet"
                              },
                              "parameters": [
                                "dialogueOptionsText",
                                "id",
                                "=",
                                "2"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "Tween::AddObjectPositionTween"
                              },
                              "parameters": [
                                "dialogueOptions_lr",
                                "Tween",
                                "\"up\"",
                                "dialogueOptionsText.X()-10",
                                "dialogueOptionsText.Y()",
                                "\"easeOutQuad\"",
                                "100",
                                ""
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::ForEach",
      "object": "dialogueOptionsText",
      "conditions": [],
      "actions": [],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "PosX"
              },
              "parameters": [
                "dialogueOptionsText",
                "=",
                "0"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarObjet"
              },
              "parameters": [
                "dialogueOptionsText",
                "id",
                "=",
                "1"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "PosX"
              },
              "parameters": [
                "dialogueOptionsText",
                "=",
                "1"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarObjet"
              },
              "parameters": [
                "dialogueOptionsText",
                "id",
                "=",
                "2"
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Comment",
      "color": {
        "b": 109,
        "g": 230,
        "r": 255,
        "textB": 0,
        "textG": 0,
        "textR": 0
      },
      "comment": "Dialogue system below",
      "comment2": ""
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [],
      "actions": [
        {
          "type": {
            "value": "SetCenter"
          },
          "parameters": [
            "dialogueArrow",
            "=",
            "slash.CenterX()+dialogueArrow.Width()/2",
            "=",
            "slash.CenterY()+dialogueArrow.Height()/2"
          ]
        },
        {
          "type": {
            "value": "ChangePlan"
          },
          "parameters": [
            "dialogueShape",
            "=",
            "dialogue.ZOrder()-1"
          ]
        },
        {
          "type": {
            "value": "Cache"
          },
          "parameters": [
            "dialogueBoxes_lr"
          ]
        },
        {
          "type": {
            "value": "ChangePlan"
          },
          "parameters": [
            "dialogue",
            "=",
            "playerAnim.ZOrder()+1000"
          ]
        },
        {
          "type": {
            "value": "ChangePlan"
          },
          "parameters": [
            "dialogueArrow",
            "=",
            "dialogue.ZOrder()+1"
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "inverted": true,
            "value": "AutoTyping::BBText_AutoTyping::TypingFinished"
          },
          "parameters": [
            "dialogue",
            "BBText_AutoTyping",
            ""
          ]
        }
      ],
      "actions": [],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "KeyPressed"
              },
              "parameters": [
                "",
                "e"
              ]
            },
            {
              "type": {
                "value": "CompareObjectTimer"
              },
              "parameters": [
                "dialogue",
                "\"atCD\"",
                ">",
                "0.1"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "AutoTyping::BBText_AutoTyping::ChangeInterval"
              },
              "parameters": [
                "dialogue",
                "BBText_AutoTyping",
                "0.01",
                ""
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "AutoTyping::BBText_AutoTyping::TypingFinished"
          },
          "parameters": [
            "dialogue",
            "BBText_AutoTyping",
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "AutoTyping::BBText_AutoTyping::ChangeInterval"
          },
          "parameters": [
            "dialogue",
            "BBText_AutoTyping",
            "0.04",
            ""
          ]
        },
        {
          "type": {
            "value": "ResetObjectTimer"
          },
          "parameters": [
            "dialogue",
            "\"atCD\""
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::ForEach",
      "object": "NPC",
      "conditions": [],
      "actions": [],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Dialogue visuals",
          "comment2": ""
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "dialogue",
                "dialogue_id",
                "=",
                "NPC.Variable(dialogue_id)"
              ]
            },
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "NPC",
                "dialogue_id",
                "=",
                "dialogue.Variable(dialogue_id)"
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_onPlayer",
                    "=",
                    "0"
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CenterY"
                      },
                      "parameters": [
                        "playerAnim",
                        ">",
                        "NPC.CenterY()"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetCenter"
                      },
                      "parameters": [
                        "dialogue",
                        "=",
                        "NPC.CenterX()",
                        "=",
                        "NPC.CenterY()-NPCAnim.Height()-30"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetCenter"
                      },
                      "parameters": [
                        "dialogueArrow",
                        "=",
                        "dialogue.CenterX()",
                        "=",
                        "15+dialogue.CenterY()+dialogue.Height()/2"
                      ]
                    },
                    {
                      "type": {
                        "value": "FlipY"
                      },
                      "parameters": [
                        "dialogueArrow",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CenterY"
                      },
                      "parameters": [
                        "playerAnim",
                        "<",
                        "NPC.CenterY()"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetCenter"
                      },
                      "parameters": [
                        "dialogue",
                        "=",
                        "NPC.CenterX()",
                        "=",
                        "NPC.CenterY()+32"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetCenter"
                      },
                      "parameters": [
                        "dialogueArrow",
                        "=",
                        "dialogue.CenterX()",
                        "=",
                        "dialogue.CenterY()-5-dialogue.Height()/2"
                      ]
                    },
                    {
                      "type": {
                        "value": "FlipY"
                      },
                      "parameters": [
                        "dialogueArrow",
                        "yes"
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_onPlayer",
                    "=",
                    "1"
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CenterY"
                      },
                      "parameters": [
                        "playerAnim",
                        ">",
                        "NPC.CenterY()"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetCenter"
                      },
                      "parameters": [
                        "dialogue",
                        "=",
                        "player.CenterX()",
                        "=",
                        "player.CenterY()+player.Height()+30"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetCenter"
                      },
                      "parameters": [
                        "dialogueArrow",
                        "=",
                        "dialogue.CenterX()",
                        "=",
                        "dialogue.CenterY()-5-dialogue.Height()/2"
                      ]
                    },
                    {
                      "type": {
                        "value": "FlipY"
                      },
                      "parameters": [
                        "dialogueArrow",
                        "yes"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CenterY"
                      },
                      "parameters": [
                        "playerAnim",
                        "<",
                        "NPC.CenterY()"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetCenter"
                      },
                      "parameters": [
                        "dialogue",
                        "=",
                        "player.CenterX()",
                        "=",
                        "player.CenterY()-playerAnim.Height()-30"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetCenter"
                      },
                      "parameters": [
                        "dialogueArrow",
                        "=",
                        "dialogue.CenterX()",
                        "=",
                        "15+dialogue.CenterY()+dialogue.Height()/2"
                      ]
                    },
                    {
                      "type": {
                        "value": "FlipY"
                      },
                      "parameters": [
                        "dialogueArrow",
                        "no"
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "Animation"
                  },
                  "parameters": [
                    "dialogueBoxes_lr",
                    "=",
                    "0"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "MettreXY"
                  },
                  "parameters": [
                    "dialogueBoxes_lr",
                    "=",
                    "dialogue.X()-10",
                    "=",
                    "dialogue.Y()-5"
                  ]
                },
                {
                  "type": {
                    "value": "ChangeHeight"
                  },
                  "parameters": [
                    "dialogueBoxes_lr",
                    "=",
                    "dialogue.Height()+20"
                  ]
                },
                {
                  "type": {
                    "value": "ChangeWidth"
                  },
                  "parameters": [
                    "dialogueBoxes_lr",
                    "=",
                    "dialogue.Width()+20"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "PrimitiveDrawing::RoundedRectangle"
                  },
                  "parameters": [
                    "dialogueShape",
                    "dialogueBoxes_lr.X()",
                    "dialogueBoxes_lr.Y()",
                    "dialogueBoxes_lr.X()+dialogueBoxes_lr.Width()",
                    "dialogueBoxes_lr.Y()+dialogueBoxes_lr.Height()",
                    "1000"
                  ]
                },
                {
                  "type": {
                    "value": "Montre"
                  },
                  "parameters": [
                    "dialogueShape",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Montre"
                  },
                  "parameters": [
                    "dialogue",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "Montre"
                  },
                  "parameters": [
                    "dialogueArrow",
                    ""
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "VarObjet"
          },
          "parameters": [
            "dialogue",
            "dialogue_id",
            "=",
            "0"
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "Cache"
          },
          "parameters": [
            "dialogueBoxes_lr"
          ]
        },
        {
          "type": {
            "value": "Cache"
          },
          "parameters": [
            "dialogueShape"
          ]
        },
        {
          "type": {
            "value": "Cache"
          },
          "parameters": [
            "dialogue"
          ]
        },
        {
          "type": {
            "value": "Cache"
          },
          "parameters": [
            "dialogueArrow"
          ]
        }
      ]
    },
    {
      "type": "BuiltinCommonInstructions::ForEach",
      "object": "NPC",
      "conditions": [],
      "actions": [],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "dialogues init",
          "comment2": ""
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "PickNearest"
              },
              "parameters": [
                "NPC",
                "player.CenterX()",
                "player.CenterY()",
                ""
              ]
            },
            {
              "type": {
                "value": "Distance"
              },
              "parameters": [
                "NPC",
                "player",
                "100",
                ""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "0"
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "VarObjet"
                      },
                      "parameters": [
                        "NPC",
                        "dialogue_id",
                        ">",
                        "0"
                      ]
                    }
                  ],
                  "actions": [],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "KeyReleased"
                          },
                          "parameters": [
                            "",
                            "e"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "ResetObjectTimer"
                          },
                          "parameters": [
                            "dialogue",
                            "\"atCD\""
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "dialogue",
                            "dialogue_id",
                            "=",
                            "NPC.Variable(dialogue_id)"
                          ]
                        },
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "NPC",
                            "dialogue_active",
                            "=",
                            "1"
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "test dialogue",
          "comment2": ""
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "NPC",
                "dialogue_id",
                "=",
                "1"
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "AutoTyping::BBText_AutoTyping::IsCharacterJustAdded"
                  },
                  "parameters": [
                    "dialogue",
                    "BBText_AutoTyping",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ResetObjectTimer"
                  },
                  "parameters": [
                    "dialogue",
                    "\"dt\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    ">=",
                    "1"
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "CompareObjectTimer"
                      },
                      "parameters": [
                        "dialogue",
                        "\"dt\"",
                        ">",
                        "0.5"
                      ]
                    }
                  ],
                  "actions": [],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "KeyReleased"
                          },
                          "parameters": [
                            "",
                            "e"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "NPC",
                            "dialogue_active",
                            "+",
                            "1"
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "2"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"hellasdwo bro\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "3"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"whatchu doin'?\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "4"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"Bored, aren'tcha?\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "5"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"Let's try this.\nHelloooo...\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "6"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "dialogue",
                    "dialogue_id",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "0"
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "Refrigerator dialogue",
          "comment2": ""
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "NPC",
                "dialogue_id",
                "=",
                "2"
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "AutoTyping::BBText_AutoTyping::IsCharacterJustAdded"
                  },
                  "parameters": [
                    "dialogue",
                    "BBText_AutoTyping",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ResetObjectTimer"
                  },
                  "parameters": [
                    "dialogue",
                    "\"dt\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    ">=",
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "CompareObjectTimer"
                  },
                  "parameters": [
                    "dialogue",
                    "\"dt\"",
                    ">",
                    "0.5"
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "KeyReleased"
                      },
                      "parameters": [
                        "",
                        "e"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ModVarObjet"
                      },
                      "parameters": [
                        "NPC",
                        "dialogue_active",
                        "+",
                        "1"
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "2"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"It's empty.\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "3"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"I need to buy something from the supermarket.\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "4"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "dialogue",
                    "dialogue_id",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "0"
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "dialogue sate",
          "comment2": ""
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "NPC",
                "dialogue_id",
                "=",
                "3"
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "AutoTyping::BBText_AutoTyping::IsCharacterJustAdded"
                  },
                  "parameters": [
                    "dialogue",
                    "BBText_AutoTyping",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ResetObjectTimer"
                  },
                  "parameters": [
                    "dialogue",
                    "\"dt\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    ">=",
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "CompareObjectTimer"
                  },
                  "parameters": [
                    "dialogue",
                    "\"dt\"",
                    ">",
                    "0.5"
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "KeyReleased"
                      },
                      "parameters": [
                        "",
                        "e"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ModVarObjet"
                      },
                      "parameters": [
                        "NPC",
                        "dialogue_active",
                        "+",
                        "1"
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "2"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"Lo-hello! Want to buy some Chicken Satay?\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "3"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"No?\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "4"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"Okay, then. Good day!\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "5"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "dialogue",
                    "dialogue_id",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "0"
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "dialogue kasir supermarket 1",
          "comment2": ""
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "NPC",
                "dialogue_id",
                "=",
                "4"
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "AutoTyping::BBText_AutoTyping::IsCharacterJustAdded"
                  },
                  "parameters": [
                    "dialogue",
                    "BBText_AutoTyping",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ResetObjectTimer"
                  },
                  "parameters": [
                    "dialogue",
                    "\"dt\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    ">=",
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "CompareObjectTimer"
                  },
                  "parameters": [
                    "dialogue",
                    "\"dt\"",
                    ">",
                    "0.5"
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "KeyReleased"
                      },
                      "parameters": [
                        "",
                        "e"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ModVarObjet"
                      },
                      "parameters": [
                        "NPC",
                        "dialogue_active",
                        "+",
                        "1"
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "2"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"Welcome and happy- Oh Kala, long time no see.\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "3"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_onPlayer",
                    "=",
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"KALA: Hello sir, you got some chicken meat?\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "4"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_onPlayer",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"Sure, just look around back.\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "5"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"We restocked 'em just this morning.\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "6"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "dialogue",
                    "dialogue_id",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_id",
                    "=",
                    "4.1"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "0"
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "dialogue kasir supermarket 2",
          "comment2": ""
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "NPC",
                "dialogue_id",
                "=",
                "4.1"
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "AutoTyping::BBText_AutoTyping::IsCharacterJustAdded"
                  },
                  "parameters": [
                    "dialogue",
                    "BBText_AutoTyping",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ResetObjectTimer"
                  },
                  "parameters": [
                    "dialogue",
                    "\"dt\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    ">=",
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "CompareObjectTimer"
                  },
                  "parameters": [
                    "dialogue",
                    "\"dt\"",
                    ">",
                    "0.5"
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "KeyReleased"
                      },
                      "parameters": [
                        "",
                        "e"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ModVarObjet"
                      },
                      "parameters": [
                        "NPC",
                        "dialogue_active",
                        "+",
                        "1"
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "2"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"Yeah?\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "3"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"Just look around back for chicken meat.\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "4"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "dialogue",
                    "dialogue_id",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "0"
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "dialogue kasir supermarket 3",
          "comment2": ""
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "VarObjet"
              },
              "parameters": [
                "NPC",
                "dialogue_id",
                "=",
                "4.2"
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "AutoTyping::BBText_AutoTyping::IsCharacterJustAdded"
                  },
                  "parameters": [
                    "dialogue",
                    "BBText_AutoTyping",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ResetObjectTimer"
                  },
                  "parameters": [
                    "dialogue",
                    "\"dt\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    ">=",
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "!=",
                    "10"
                  ]
                },
                {
                  "type": {
                    "value": "CompareObjectTimer"
                  },
                  "parameters": [
                    "dialogue",
                    "\"dt\"",
                    ">",
                    "0.5"
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "KeyReleased"
                      },
                      "parameters": [
                        "",
                        "e"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ModVarObjet"
                      },
                      "parameters": [
                        "NPC",
                        "dialogue_active",
                        "+",
                        "1"
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "2"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"Is this all?\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "3"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_onPlayer",
                    "=",
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"KALA: Yup.\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "4"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_onPlayer",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"How are you these days?\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "5"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_onPlayer",
                    "=",
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"KALA: It's fine.\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "6"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_onPlayer",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"It's been a long time since last I saw you here.\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "7"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"Busy much?\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "8"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_onPlayer",
                    "=",
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"KALA: Yeah, haha. You could say it like that.\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "9"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_onPlayer",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"Busy with your studies or...\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "10"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"...busy feeling guilty?\""
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_OptionsActive",
                    "=",
                    "1"
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "VarObjet"
                      },
                      "parameters": [
                        "NPC",
                        "dialogue_OptionsActive",
                        "=",
                        "1"
                      ]
                    }
                  ],
                  "actions": [],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "CompareObjectTimer"
                          },
                          "parameters": [
                            "dialogue",
                            "\"dt\"",
                            ">",
                            "0.7"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "Montre"
                          },
                          "parameters": [
                            "dialogueOptionsShape",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "Montre"
                          },
                          "parameters": [
                            "dialogueOptionsText",
                            ""
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::ForEach",
                      "object": "dialogueOptionsText",
                      "conditions": [],
                      "actions": [],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "VarObjet"
                              },
                              "parameters": [
                                "dialogueOptionsText",
                                "id",
                                "=",
                                "1"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "BBText::SetBBText"
                              },
                              "parameters": [
                                "dialogueOptionsText",
                                "=",
                                "\"What?\""
                              ]
                            }
                          ],
                          "events": [
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "CompareObjectTimer"
                                  },
                                  "parameters": [
                                    "dialogue",
                                    "\"dt\"",
                                    ">",
                                    "2"
                                  ]
                                }
                              ],
                              "actions": [],
                              "events": [
                                {
                                  "type": "BuiltinCommonInstructions::Standard",
                                  "conditions": [
                                    {
                                      "type": {
                                        "value": "VarObjet"
                                      },
                                      "parameters": [
                                        "dialogueOptionsText",
                                        "selected",
                                        "=",
                                        "1"
                                      ]
                                    },
                                    {
                                      "type": {
                                        "value": "KeyReleased"
                                      },
                                      "parameters": [
                                        "",
                                        "e"
                                      ]
                                    }
                                  ],
                                  "actions": [
                                    {
                                      "type": {
                                        "value": "Cache"
                                      },
                                      "parameters": [
                                        "dialogueOptionsShape"
                                      ]
                                    },
                                    {
                                      "type": {
                                        "value": "ModVarObjet"
                                      },
                                      "parameters": [
                                        "NPC",
                                        "dialogue_active",
                                        "=",
                                        "11"
                                      ]
                                    },
                                    {
                                      "type": {
                                        "value": "ModVarObjet"
                                      },
                                      "parameters": [
                                        "NPC",
                                        "dialogue_OptionsActive",
                                        "=",
                                        "0"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "VarObjet"
                              },
                              "parameters": [
                                "dialogueOptionsText",
                                "id",
                                "=",
                                "2"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "BBText::SetBBText"
                              },
                              "parameters": [
                                "dialogueOptionsText",
                                "=",
                                "\"Pay and leave.\""
                              ]
                            }
                          ],
                          "events": [
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "CompareObjectTimer"
                                  },
                                  "parameters": [
                                    "dialogue",
                                    "\"dt\"",
                                    ">",
                                    "2"
                                  ]
                                }
                              ],
                              "actions": [],
                              "events": [
                                {
                                  "type": "BuiltinCommonInstructions::Standard",
                                  "conditions": [
                                    {
                                      "type": {
                                        "value": "VarObjet"
                                      },
                                      "parameters": [
                                        "dialogueOptionsText",
                                        "selected",
                                        "=",
                                        "1"
                                      ]
                                    },
                                    {
                                      "type": {
                                        "value": "KeyReleased"
                                      },
                                      "parameters": [
                                        "",
                                        "e"
                                      ]
                                    }
                                  ],
                                  "actions": [
                                    {
                                      "type": {
                                        "value": "Cache"
                                      },
                                      "parameters": [
                                        "dialogueOptionsShape"
                                      ]
                                    },
                                    {
                                      "type": {
                                        "value": "ModVarObjet"
                                      },
                                      "parameters": [
                                        "NPC",
                                        "dialogue_active",
                                        "=",
                                        "14"
                                      ]
                                    },
                                    {
                                      "type": {
                                        "value": "ModVarObjet"
                                      },
                                      "parameters": [
                                        "NPC",
                                        "dialogue_OptionsActive",
                                        "=",
                                        "0"
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "11"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Cache"
                  },
                  "parameters": [
                    "dialogueOptionsText"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_onPlayer",
                    "=",
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"What do you mean?\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "12"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_onPlayer",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"Don't play dumb with me, son.\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "13"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"I knew what really happened.\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "14"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Cache"
                  },
                  "parameters": [
                    "dialogueOptionsText"
                  ]
                },
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"...\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "15"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"Anyway, it's 34K Rupiah please.\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "16"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "BBText::SetBBText"
                  },
                  "parameters": [
                    "dialogue",
                    "=",
                    "\"Thank you and have a great day!\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "VarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "17"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_onPlayer",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "dialogue",
                    "dialogue_id",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "NPC",
                    "dialogue_active",
                    "=",
                    "0"
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}